"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[836],{8836:(E,h,r)=>{r.r(h),r.d(h,{Tab2Page:()=>I});var c=r(2200),u=r(1368);class b{constructor(){this.id=((n=21)=>{let a="",o=crypto.getRandomValues(new Uint8Array(n));for(;n--;)a+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&o[n]];return a})(),this.loggedAt=new Date}summaryString(){return"Unknown sleep data"}dateString(){return this.loggedAt.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}}class g extends b{constructor(a,o=new Date){super(),this.loggedValue=a,this.loggedAt=o}summaryString(){return"ID: "+this.id+"\nDate: "+this.loggedAt+"\nSleepiness: "+this.loggedValue+" - "+g.ScaleValues[this.loggedValue]}}g.ScaleValues=[void 0,"Feeling active, vital, alert, or wide awake","Functioning at high levels, but not at peak; able to concentrate","Awake, but relaxed; responsive but not fully alert","Somewhat foggy, let down","Foggy; losing interest in remaining awake; slowed down","Sleepy, woozy, fighting sleep; prefer to lie down","No longer fighting sleep, sleep onset soon; having dream-like thoughts"];class m extends b{constructor(a,o){super(),this.sleepStart=a,this.sleepEnd=o}summaryString(){var a=this.sleepStart.getTime(),t=this.sleepEnd.getTime()-a;return Math.floor(t/36e5)+" hours, "+Math.floor(t/6e4%60)+" minutes."}dateString(){return"Night of "+this.sleepStart.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}}var e=r(4496);let C=(()=>{var n;class a{constructor(){}addDefaultData(){this.logOvernightData(new m(new Date("February 18, 2021 01:03:00"),new Date("February 18, 2021 09:25:00"))),this.logSleepinessData(new g(4,new Date("February 19, 2021 14:38:00"))),this.logOvernightData(new m(new Date("February 20, 2021 23:11:00"),new Date("February 21, 2021 08:03:00")))}logOvernightData(t){a.AllSleepData.push(t),a.AllOvernightData.push(t)}logSleepinessData(t){a.AllSleepData.push(t),a.AllSleepinessData.push(t)}printAllSleepData(){console.log("All Sleep Data:"),a.AllSleepData.forEach(t=>{console.log(t.summaryString())})}getCurrentSleepMode(){return a.sleepMode}getCurrentSleepDateTime(){return a.sleepDateTime}setSleepDateTime(t){a.sleepDateTime=t}setCurrentSleepMode(t){a.sleepMode=t}}return(n=a).AllSleepData=[],n.AllOvernightData=[],n.AllSleepinessData=[],n.sleepMode=!1,n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.wxM({token:n,factory:n.\u0275fac,providedIn:"root"}),a})();function v(n,a){if(1&n){const o=e.KQA();e.I0R(0,"ion-button",9),e.qCj("click",function(){e.usT(o);const s=e.GaO();return e.CGJ(s.addSleepiness())}),e.OEk(1,"Add Sleepiness \u{1f634}"),e.C$Y()}}const D=n=>({"--background":n});function T(n,a){if(1&n){const o=e.KQA();e.I0R(0,"ion-button",12),e.qCj("click",function(){const l=e.usT(o).$implicit,i=e.GaO(2);return e.CGJ(i.selectNumber(l))}),e.OEk(1),e.C$Y()}if(2&n){const o=a.$implicit,t=e.GaO(2);e.eAK("selected",t.selectedNumber===o),e.E7m("ngStyle",e.S45(4,D,t.getButtonColor(o))),e.yG2(),e.cNF(o)}}function w(n,a){if(1&n&&(e.I0R(0,"div",10),e.yuY(1,T,2,6,"ion-button",11),e.C$Y()),2&n){const o=e.GaO();e.yG2(),e.E7m("ngForOf",o.numbers)}}function M(n,a){if(1&n){const o=e.KQA();e.I0R(0,"div",13)(1,"ion-button",14),e.qCj("click",function(){e.usT(o);const s=e.GaO();return e.CGJ(s.submitNumber())}),e.OEk(2,"Submit"),e.C$Y(),e.I0R(3,"ion-button",15),e.qCj("click",function(){e.usT(o);const s=e.GaO();return e.CGJ(s.cancel())}),e.OEk(4,"Cancel"),e.C$Y()()}}function O(n,a){if(1&n&&(e.I0R(0,"div",16),e.wR5(1,"img",17),e.C$Y()),2&n){const o=e.GaO();e.yG2(),e.E7m("src",o.dayImagePath,e.K6U)}}function P(n,a){if(1&n&&(e.I0R(0,"div",16),e.wR5(1,"img",18),e.C$Y()),2&n){const o=e.GaO();e.yG2(),e.E7m("src",o.nightImagePath,e.K6U)}}let I=(()=>{var n;class a{constructor(t){this.sleepService=t,this.numbers=[1,2,3,4,5,6,7],this.showNumbers=!1,this.feedbackMessage=null,this.feedbackMessageColor="black",this.isLoggingBedtime=!this.sleepService.getCurrentSleepMode(),this.randImageInt=Math.floor(5*Math.random())+1,this.dayImagePath=`assets/images/day/sunrise${this.randImageInt}.jpg`,this.nightImagePath=`assets/images/night/sunset${this.randImageInt}.jpg`}addSleepiness(){this.showNumbers=!0}selectNumber(t){this.selectedNumber=t}cancel(){this.selectedNumber=void 0,this.showNumbers=!1}getButtonColor(t){return`hsl(${120-t/7*120}, 60%, 50%)`}handleLogBedtimeData(){let t="",s="";if(this.sleepService.getCurrentSleepMode()){if(null===this.sleepService.getCurrentSleepDateTime())t="Error Extracting Bedtime Time",s="orange",this.showFeedback(t,s);else{let l=new Date;const i=new m(this.sleepService.getCurrentSleepDateTime(),l);this.sleepService.logOvernightData(i),t="Data successfully logged",s="green",this.sleepService.printAllSleepData(),this.showFeedback(t,s)}this.sleepService.setCurrentSleepMode(!1),this.isLoggingBedtime=!0}else this.sleepService.setSleepDateTime(new Date),this.sleepService.setCurrentSleepMode(!0),this.isLoggingBedtime=!1,this.cancel(),t="Bedtime Successfully Set",s="green",this.showFeedback(t,s);this.randImageInt=Math.floor(5*Math.random())+1,this.dayImagePath=`assets/images/day/sunrise${this.randImageInt}.jpg`,this.nightImagePath=`assets/images/night/sunset${this.randImageInt}.jpg`,console.log(this.dayImagePath)}getTimeSlept(t,s){var l=t.getTime(),d=s.getTime()-l;return Math.floor(d/36e5)+" hours, "+Math.floor(d/6e4%60)+" minutes."}submitNumber(){let t="",s="";if(void 0!==this.selectedNumber){const l=new g(this.selectedNumber);this.sleepService.logSleepinessData(l),this.sleepService.printAllSleepData(),t="Data Successfully Added",s="green"}else t="You must select a number",s="orange";this.showFeedback(t,s),this.showNumbers=!1,this.selectedNumber=void 0}showFeedback(t,s){clearTimeout(this.feedbackTimeout);const l=document.querySelector(".feedback-message");l&&document.body.removeChild(l);const i=document.createElement("div");i.textContent=t,i.style.color=s,i.style.position="absolute",i.style.bottom="70%",i.style.left="50%",i.style.transform="translateX(-50%)",i.className="feedback-message",document.body.appendChild(i),this.feedbackTimeout=setTimeout(()=>{document.body.contains(i)&&document.body.removeChild(i)},2500)}}return(n=a).\u0275fac=function(t){return new(t||n)(e.GI1(C))},n.\u0275cmp=e.In1({type:n,selectors:[["app-tab2"]],standalone:!0,features:[e.UHJ],decls:16,vars:8,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],["expand","full",1,"add-overnight-sleep",3,"click"],["expand","full","class","add-sleepiness",3,"click",4,"ngIf"],["class","button-container",4,"ngIf"],["class","action-buttons",4,"ngIf"],["class","image-container",4,"ngIf"],["expand","full",1,"add-sleepiness",3,"click"],[1,"button-container"],[3,"ngStyle","selected","click",4,"ngFor","ngForOf"],[3,"ngStyle","click"],[1,"action-buttons"],["color","success",3,"click"],["color","warning",3,"click"],[1,"image-container"],["alt","Sunrise",1,"sunrise-image",3,"src"],["alt","Sunset",1,"sunset-image",3,"src"]],template:function(t,s){1&t&&(e.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.OEk(3," Sleep Tracker "),e.C$Y()()(),e.I0R(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e.OEk(8,"Sleep Tracker"),e.C$Y()()(),e.I0R(9,"ion-button",4),e.qCj("click",function(){return s.handleLogBedtimeData()}),e.OEk(10),e.C$Y(),e.yuY(11,v,2,0,"ion-button",5)(12,w,2,1,"div",6)(13,M,5,0,"div",7)(14,O,2,1,"div",8)(15,P,2,1,"div",8),e.C$Y()),2&t&&(e.E7m("translucent",!0),e.yG2(4),e.E7m("fullscreen",!0),e.yG2(6),e.oRS(" ",s.isLoggingBedtime?"Log Bedtime \u{1f312}":"Log Wakeup Time \u2600\ufe0f"," "),e.yG2(),e.E7m("ngIf",s.isLoggingBedtime),e.yG2(),e.E7m("ngIf",s.showNumbers&&s.isLoggingBedtime),e.yG2(),e.E7m("ngIf",s.isLoggingBedtime&&(void 0!==s.selectedNumber||s.showNumbers)),e.yG2(),e.E7m("ngIf",s.isLoggingBedtime),e.yG2(),e.E7m("ngIf",!s.isLoggingBedtime))},dependencies:[c.wB,c.Md,c.tM,c._i,c.sn,u.u_,u.ay,u.MD,u.Qt],styles:['.selected[_ngcontent-%COMP%]{--background: var(--ion-color-primary);--color: var(--ion-color-light)}.button-container[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: auto}ion-button[color=success][_ngcontent-%COMP%]{--background: green}ion-button[color=warning][_ngcontent-%COMP%]{--background: orange}.add-sleepiness[_ngcontent-%COMP%], .add-overnight-sleep[_ngcontent-%COMP%]{--background: #3f51b5;font-weight:700}.number-button-1[_ngcontent-%COMP%]{--background: green}.number-button-7[_ngcontent-%COMP%]{--background: red}ion-button[_ngcontent-%COMP%]{--background: initial;--color: black}.selected[_ngcontent-%COMP%]{--background: #3f51b5;--color: white}.image-container[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:200px;overflow:hidden;z-index:-1}.image-container[_ngcontent-%COMP%]   .sunrise-image[_ngcontent-%COMP%], .image-container[_ngcontent-%COMP%]   .sunset-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;position:absolute;bottom:0}.image-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(to top,#0000,#000)}']}),a})()}}]);